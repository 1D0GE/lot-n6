<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cercador de Loteria de Nadal</title>
  
  <!-- Tailwind CSS per a un disseny modern i responsiu -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font de Google 'Inter' per a una millor llegibilitat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    /* Estils personalitzats */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f0f2f5; /* Un gris més suau per al fons */
    }
    /* Animació per a l'aparició dels resultats */
    .resultat-item {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="antialiased text-gray-800">

  <div class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md mx-auto">
      
      <!-- Títol i descripció -->
      <header class="text-center mb-8">
        <h1 class="text-4xl font-extrabold text-gray-900">Loteria de Nadal</h1>
        <p class="text-gray-600 mt-2">Cerca el número.</p>
      </header>

      <main class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
        <!-- Formulari de cerca -->
        <div class="flex items-center space-x-2 border-2 border-gray-200 rounded-full p-2 focus-within:border-indigo-500 transition-colors">
          <input 
            type="text" 
            id="busqueda" 
            placeholder="Introdueix d'1 a 5 xifres..." 
            maxlength="5"
            class="w-full bg-transparent border-none focus:ring-0 text-lg px-4 py-1"
            onkeyup="if(event.key === 'Enter') buscar()"
          />
          <button 
            onclick="buscar()" 
            class="bg-indigo-600 text-white rounded-full p-3 hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-300 transition-all duration-300"
            aria-label="Cercar número"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>

        <!-- Àrea de resultats -->
        <div id="resultados" class="mt-6 space-y-3">
          <!-- Els resultats de la cerca apareixeran aquí -->
          <p class="text-center text-gray-500">Introdueix un número o terminació per començar.</p>
        </div>
      </main>

      <!-- Peu de pàgina -->
      <footer class="text-center mt-8">
        <p class="text-sm text-gray-500">&copy; 2025 Administració nº6 - Tots els drets reservats.</p>
      </footer>

    </div>
  </div>

  <script>
    // === DADES DELS NÚMEROS (SENSE MODIFICAR) ===
    const numeros = [
      {"numero": "49480", "reservado": false}, {"numero": "15192", "reservado": false},
      {"numero": "28924", "reservado": false}, {"numero": "67936", "reservado": false},
      {"numero": "94327", "reservado": false}, {"numero": "92738", "reservado": false},
      {"numero": "60411", "reservado": false}, {"numero": "74653", "reservado": false},
      {"numero": "67805", "reservado": false}, {"numero": "44899", "reservado": false},
      {"numero": "09199", "reservado": false}, {"numero": "55971", "reservado": false},
      {"numero": "89118", "reservado": false}, {"numero": "11063", "reservado": false},
      {"numero": "79889", "reservado": false}, {"numero": "37105", "reservado": false},
      {"numero": "50435", "reservado": false}, {"numero": "15296", "reservado": false},
      {"numero": "84925", "reservado": false}, {"numero": "00517", "reservado": false},
      {"numero": "33146", "reservado": true}, {"numero": "40522", "reservado": true},
      {"numero": "70763", "reservado": false}, {"numero": "61166", "reservado": true},
      {"numero": "07899", "reservado": false}, {"numero": "98045", "reservado": false},
      {"numero": "15959", "reservado": true}, {"numero": "72069", "reservado": true},
      {"numero": "18657", "reservado": true}, {"numero": "15461", "reservado": true},
      {"numero": "16986", "reservado": true}, {"numero": "19398", "reservado": true},
      {"numero": "23460", "reservado": true}, {"numero": "30113", "reservado": true},
      {"numero": "86989", "reservado": true}, {"numero": "96951", "reservado": false},
      {"numero": "35551", "reservado": false}, {"numero": "12533", "reservado": false},
      {"numero": "81821", "reservado": false}, {"numero": "62868", "reservado": false},
      {"numero": "93821", "reservado": false}, {"numero": "38878", "reservado": false},
      {"numero": "01663", "reservado": false}, {"numero": "51691", "reservado": false},
      {"numero": "29533", "reservado": false}, {"numero": "20403", "reservado": false},
      {"numero": "48701", "reservado": false}, {"numero": "87998", "reservado": false},
      {"numero": "10339", "reservado": false}, {"numero": "46603", "reservado": false},
      {"numero": "47561", "reservado": false}, {"numero": "22218", "reservado": false},
      {"numero": "91811", "reservado": false}, {"numero": "32893", "reservado": false},
      {"numero": "21198", "reservado": false}, {"numero": "58733", "reservado": false},
      {"numero": "24081", "reservado": false}, {"numero": "03211", "reservado": false},
      {"numero": "04668", "reservado": false}, {"numero": "90388", "reservado": false},
      {"numero": "65033", "reservado": false}, {"numero": "36431", "reservado": false},
      {"numero": "45988", "reservado": false}, {"numero": "06188", "reservado": false},
      {"numero": "78228", "reservado": false}, {"numero": "64639", "reservado": false},
      {"numero": "56228", "reservado": false}, {"numero": "52901", "reservado": false},
      {"numero": "31343", "reservado": false}, {"numero": "03495", "reservado": false},
      {"numero": "32685", "reservado": false}, {"numero": "35605", "reservado": false},
      {"numero": "88895", "reservado": false}, {"numero": "85218", "reservado": false},
      {"numero": "27974", "reservado": false}, {"numero": "05829", "reservado": false},
      {"numero": "71681", "reservado": false}, {"numero": "75859", "reservado": false},
      {"numero": "82199", "reservado": false}, {"numero": "80008", "reservado": false},
      {"numero": "59349", "reservado": false}, {"numero": "63749", "reservado": false}
    ];

    // Funció per generar el HTML d'un missatge d'estat
    function crearMissatge(text) {
        return `<div class="text-center p-4 bg-gray-50 rounded-lg">
                    <p class="text-gray-600 font-medium">${text}</p>
                </div>`;
    }

    // Funció per generar el HTML d'un resultat
    function crearResultat(n) {
        const statusClass = n.reservado ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800';
        const statusText = n.reservado ? 'RESERVAT fins al novembre' : 'DISPONIBLE';
        const dotClass = n.reservado ? 'bg-red-500' : 'bg-green-500';

        return `
            <div class="resultat-item flex items-center justify-between p-4 bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-shadow">
                <span class="text-2xl font-bold tracking-wider text-gray-800">${n.numero}</span>
                <div class="flex items-center space-x-2">
                    <div class="h-3 w-3 rounded-full ${dotClass}"></div>
                    <span class="text-sm font-semibold ${statusClass} px-2.5 py-0.5 rounded-full">${statusText}</span>
                </div>
            </div>
        `;
    }

    // === LÒGICA DE CERCA (SENSE MODIFICAR, NOMÉS ADAPTADA LA SORTIDA) ===
    function buscar() {
      const input = document.getElementById("busqueda").value.trim();
      const resultadosDiv = document.getElementById("resultados");
      resultadosDiv.innerHTML = ""; // Neteja els resultats anteriors

      // Validació de l'entrada
      if (!/^[0-9]{1,5}$/.test(input) && input.length > 0) {
        resultadosDiv.innerHTML = crearMissatge("Cal que introdueixis només xifres (entre 1 i 5).");
        return;
      }
      
      if (input.length === 0) {
        resultadosDiv.innerHTML = crearMissatge("Introdueix un número o terminació per començar.");
        return;
      }

      // Filtrar els números
      let resultados = [];
      if (input.length < 5) {
        // Cerca per terminació
        resultados = numeros.filter(n => n.numero.endsWith(input));
      } else {
        // Cerca per número complet
        resultados = numeros.filter(n => n.numero === input);
      }

      // Mostrar els resultats
      if (resultados.length === 0) {
        resultadosDiv.innerHTML = crearMissatge("No s'ha trobat cap número que coincideixi.");
      } else {
        // Ordena els resultats per número
        resultados.sort((a, b) => a.numero.localeCompare(b.numero));
        resultadosDiv.innerHTML = resultados.map(crearResultat).join("");
      }
    }
  </script>
</body>
</html>
